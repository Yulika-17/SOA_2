(function(){"use strict";var e={9595:function(e,t,r){var a=r(5130),o=r(6768);const n={id:"app"},s={class:"operation"},l={class:"operation"},u={class:"operation"},i={class:"operation"},d={class:"operation"},m={class:"operation"},p={class:"operation"},c={class:"operation"};function f(e,t,r,a,f,k){const v=(0,o.g2)("FilterSortApartmentForm"),h=(0,o.g2)("AddApartmentForm"),L=(0,o.g2)("GetApartmentByIdForm"),b=(0,o.g2)("UpdateApartmentForm"),g=(0,o.g2)("DeleteApartmentForm"),y=(0,o.g2)("AverageNumberOfRooms"),F=(0,o.g2)("TransportCount"),M=(0,o.g2)("FurnishFilter");return(0,o.uX)(),(0,o.CE)("div",n,[t[8]||(t[8]=(0,o.Lk)("h1",null,"Базовые операции",-1)),(0,o.Lk)("div",s,[(0,o.Lk)("h2",{onClick:t[0]||(t[0]=e=>k.toggleForm("filterSortApartments")),class:"blue-header"}," Получить список квартир с фильтрацией, сортировкой и постраничным выводом "),"filterSortApartments"===f.activeForm?((0,o.uX)(),(0,o.Wv)(v,{key:0,onClose:k.closeForm},null,8,["onClose"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",l,[(0,o.Lk)("h2",{onClick:t[1]||(t[1]=e=>k.toggleForm("addApartment")),class:"green-header"}," Добавить новую квартиру "),"addApartment"===f.activeForm?((0,o.uX)(),(0,o.Wv)(h,{key:0,onClose:k.closeForm},null,8,["onClose"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",u,[(0,o.Lk)("h2",{onClick:t[2]||(t[2]=e=>k.toggleForm("getApartment")),class:"blue-header"}," Получить квартиру по ID "),"getApartment"===f.activeForm?((0,o.uX)(),(0,o.Wv)(L,{key:0,onClose:k.closeForm},null,8,["onClose"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",i,[(0,o.Lk)("h2",{onClick:t[3]||(t[3]=e=>k.toggleForm("updateApartment")),class:"yellow-header"}," Обновить квартиру по ID "),"updateApartment"===f.activeForm?((0,o.uX)(),(0,o.Wv)(b,{key:0,onClose:k.closeForm},null,8,["onClose"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",d,[(0,o.Lk)("h2",{onClick:t[4]||(t[4]=e=>k.toggleForm("deleteApartment")),class:"red-header"}," Удалить квартиру по ID "),"deleteApartment"===f.activeForm?((0,o.uX)(),(0,o.Wv)(g,{key:0,onClose:k.closeForm},null,8,["onClose"])):(0,o.Q3)("",!0)]),t[9]||(t[9]=(0,o.Lk)("h1",null,"Дополнительные операции",-1)),(0,o.Lk)("div",m,[(0,o.Lk)("h2",{onClick:t[5]||(t[5]=e=>k.toggleForm("numberOfRoomsApartment")),class:"blue-header"}," Рассчитать среднее значение поля numberOfRooms для всех квартир "),"numberOfRoomsApartment"===f.activeForm?((0,o.uX)(),(0,o.Wv)(y,{key:0,onClose:k.closeForm},null,8,["onClose"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",p,[(0,o.Lk)("h2",{onClick:t[6]||(t[6]=e=>k.toggleForm("TransportCountApartment")),class:"blue-header"}," Вернуть количество квартир с transport больше заданного значения "),"TransportCountApartment"===f.activeForm?((0,o.uX)(),(0,o.Wv)(F,{key:0,onClose:k.closeForm},null,8,["onClose"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",c,[(0,o.Lk)("h2",{onClick:t[7]||(t[7]=e=>k.toggleForm("FurnishFilterApartment")),class:"blue-header"}," Вернуть массив квартир с furnish больше заданного значения "),"FurnishFilterApartment"===f.activeForm?((0,o.uX)(),(0,o.Wv)(M,{key:0,onClose:k.closeForm},null,8,["onClose"])):(0,o.Q3)("",!0)])])}var k=r(4232);const v={class:"add-apartment-form"},h={class:"form-group"},L={class:"form-group"},b={class:"form-group"},g={class:"form-group"},y={class:"form-group"},F={class:"form-group"},M={class:"form-group"},C={class:"form-group"},O={class:"form-group"},T={class:"form-group"},_={class:"form-group"},E={key:0,class:"error-message"},x={key:1,class:"success-message"};function B(e,t,r,n,s,l){return(0,o.uX)(),(0,o.CE)("div",v,[(0,o.Lk)("form",{onSubmit:t[15]||(t[15]=(0,a.D$)(((...e)=>l.submitApartment&&l.submitApartment(...e)),["prevent"]))},[(0,o.Lk)("div",h,[t[16]||(t[16]=(0,o.Lk)("label",{for:"name"},"Название",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>s.flat.name=e),required:"",class:(0,k.C4)({"is-invalid":!s.flat.name}),placeholder:"Введите название"},null,2),[[a.Jo,s.flat.name]])]),(0,o.Lk)("div",L,[t[17]||(t[17]=(0,o.Lk)("label",{for:"coordinates"},"Координаты",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>s.flat.coordinates.x=e),required:"",class:(0,k.C4)({"is-invalid":null===s.flat.coordinates.x}),placeholder:"X"},null,2),[[a.Jo,s.flat.coordinates.x]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>s.flat.coordinates.y=e),required:"",class:(0,k.C4)({"is-invalid":null===s.flat.coordinates.y}),placeholder:"Y"},null,2),[[a.Jo,s.flat.coordinates.y]])]),(0,o.Lk)("div",b,[t[18]||(t[18]=(0,o.Lk)("label",{for:"area"},"Площадь (м²)",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"area","onUpdate:modelValue":t[3]||(t[3]=e=>s.flat.area=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.area<=0}),placeholder:"Больше 0"},null,2),[[a.Jo,s.flat.area]])]),(0,o.Lk)("div",g,[t[19]||(t[19]=(0,o.Lk)("label",{for:"numberOfRooms"},"Количество комнат",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"numberOfRooms","onUpdate:modelValue":t[4]||(t[4]=e=>s.flat.numberOfRooms=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.numberOfRooms<=0}),placeholder:"Больше 0"},null,2),[[a.Jo,s.flat.numberOfRooms]])]),(0,o.Lk)("div",y,[t[21]||(t[21]=(0,o.Lk)("label",{for:"furnish"},"Мебель",-1)),(0,o.bo)((0,o.Lk)("select",{id:"furnish","onUpdate:modelValue":t[5]||(t[5]=e=>s.flat.furnish=e)},t[20]||(t[20]=[(0,o.Fv)('<option disabled value="" data-v-009d52dd>Выберите</option><option value="DESIGNER" data-v-009d52dd>Дизайнерская</option><option value="FINE" data-v-009d52dd>Хорошая</option><option value="BAD" data-v-009d52dd>Плохая</option><option value="LITTLE" data-v-009d52dd>Небольшая</option>',5)]),512),[[a.u1,s.flat.furnish]])]),(0,o.Lk)("div",F,[t[23]||(t[23]=(0,o.Lk)("label",{for:"view"},"Вид",-1)),(0,o.bo)((0,o.Lk)("select",{id:"view","onUpdate:modelValue":t[6]||(t[6]=e=>s.flat.view=e),required:""},t[22]||(t[22]=[(0,o.Lk)("option",{disabled:"",value:""},"Выберите",-1),(0,o.Lk)("option",{value:"STREET"},"Улица",-1),(0,o.Lk)("option",{value:"YARD"},"Двор",-1),(0,o.Lk)("option",{value:"GOOD"},"Хороший",-1)]),512),[[a.u1,s.flat.view]])]),(0,o.Lk)("div",M,[t[25]||(t[25]=(0,o.Lk)("label",{for:"transport"},"Транспорт",-1)),(0,o.bo)((0,o.Lk)("select",{id:"transport","onUpdate:modelValue":t[7]||(t[7]=e=>s.flat.transport=e),required:""},t[24]||(t[24]=[(0,o.Fv)('<option disabled value="" data-v-009d52dd>Выберите</option><option value="FEW" data-v-009d52dd>Мало</option><option value="NONE" data-v-009d52dd>Нет</option><option value="NORMAL" data-v-009d52dd>Обычный</option><option value="ENOUGH" data-v-009d52dd>Достаточно</option>',5)]),512),[[a.u1,s.flat.transport]])]),(0,o.Lk)("div",C,[t[26]||(t[26]=(0,o.Lk)("label",{for:"house"},"Дом",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>s.flat.house.name=e),required:"",class:(0,k.C4)({"is-invalid":!s.flat.house.name}),placeholder:"Имя дома"},null,2),[[a.Jo,s.flat.house.name]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=e=>s.flat.house.numberOfFlatsOnFloor=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.house.numberOfFlatsOnFloor<=0}),placeholder:"Квартир на этаже (больше 0)"},null,2),[[a.Jo,s.flat.house.numberOfFlatsOnFloor]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=e=>s.flat.house.numberOfLifts=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.house.numberOfLifts<=0}),placeholder:"Лифтов (больше 0)"},null,2),[[a.Jo,s.flat.house.numberOfLifts]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=e=>s.flat.house.year=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.house.year>210||s.flat.house.year<=0}),placeholder:"Год постройки (1-210)"},null,2),[[a.Jo,s.flat.house.year]])]),(0,o.Lk)("div",O,[t[27]||(t[27]=(0,o.Lk)("label",{for:"price"},"Цена",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"price","onUpdate:modelValue":t[12]||(t[12]=e=>s.flat.price=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.price<=0}),min:"0",placeholder:"Введите цену"},null,2),[[a.Jo,s.flat.price]])]),(0,o.Lk)("div",T,[t[28]||(t[28]=(0,o.Lk)("label",{for:"numberOfRooms"},"Время до метро пешком",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"timeToMetroByFoot","onUpdate:modelValue":t[13]||(t[13]=e=>s.flat.timeToMetroByFoot=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.timeToMetroByFoot<=0}),placeholder:"Больше 0"},null,2),[[a.Jo,s.flat.timeToMetroByFoot]])]),(0,o.Lk)("div",_,[t[29]||(t[29]=(0,o.Lk)("label",{for:"numberOfRooms"},"Время до метро на транспорте",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"timeToMetroByTransport","onUpdate:modelValue":t[14]||(t[14]=e=>s.flat.timeToMetroByTransport=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.timeToMetroByTransport<=0}),placeholder:"Больше 0"},null,2),[[a.Jo,s.flat.timeToMetroByTransport]])]),t[30]||(t[30]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Добавить квартиру",-1)),s.errorMessage?((0,o.uX)(),(0,o.CE)("p",E,(0,k.v_)(s.errorMessage),1)):(0,o.Q3)("",!0),s.successMessage?((0,o.uX)(),(0,o.CE)("p",x,(0,k.v_)(s.successMessage),1)):(0,o.Q3)("",!0)],32)])}var q=r(9607);const A=q.A.create({baseURL:"http://localhost:8443/api/v1",headers:{"Content-Type":"application/xml"}});var I=A,S=r(1699),w={data(){return{flat:{creationDate:"",name:"",coordinates:{x:"",y:""},area:"",numberOfRooms:"",furnish:"",view:"",transport:"",house:{name:"",numberOfFlatsOnFloor:"",numberOfLifts:"",year:""},price:"",timeToMetroByFoot:"",timeToMetroByTransport:""},errorMessage:"",successMessage:""}},methods:{async submitApartment(){this.errorMessage="",this.successMessage="";try{const e=(0,S.js2xml)({flat:{creationDate:this.flat.creationDate,name:this.flat.name,coordinates:{x:this.flat.coordinates.x,y:this.flat.coordinates.y},area:this.flat.area,numberOfRooms:this.flat.numberOfRooms,furnish:this.flat.furnish,view:this.flat.view,transport:this.flat.transport,house:{name:this.flat.house.name,numberOfFlatsOnFloor:this.flat.house.numberOfFlatsOnFloor,numberOfLifts:this.flat.house.numberOfLifts,year:this.flat.house.year},price:this.flat.price,timeToMetroByFoot:this.flat.timeToMetroByFoot,timeToMetroByTransport:this.flat.timeToMetroByTransport}},{compact:!0,ignoreComment:!0,spaces:4}),t=await I.post("/flats",e,{headers:{"Content-Type":"application/xml"}});201===t.status&&(this.successMessage="Квартира успешно добавлена!")}catch(e){const t=e.response?e.response.status:null;switch(t){case 400:this.errorMessage="Неверный ввод. Проверьте данные и попробуйте снова.";break;case 404:this.errorMessage="Запрашиваемый ресурс не найден.";break;case 500:this.errorMessage="Ошибка сервера. Попробуйте позже.";break;default:this.errorMessage="Произошла непредвиденная ошибка."}}}}},X=r(1241);const D=(0,X.A)(w,[["render",B],["__scopeId","data-v-009d52dd"]]);var R=D;const N={class:"delete-apartment-form"},U={class:"form-group"},V={key:0,class:"error-message"},J={key:1,class:"success-message"};function Q(e,t,r,n,s,l){return(0,o.uX)(),(0,o.CE)("div",N,[(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>l.submitDelete&&l.submitDelete(...e)),["prevent"]))},[(0,o.Lk)("div",U,[t[2]||(t[2]=(0,o.Lk)("label",{for:"id"},"ID квартиры для удаления",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"id","onUpdate:modelValue":t[0]||(t[0]=e=>s.apartmentId=e),required:"",class:(0,k.C4)({"is-invalid":s.apartmentId<=0}),placeholder:"Введите ID квартиры"},null,2),[[a.Jo,s.apartmentId]])]),t[3]||(t[3]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Удалить квартиру",-1)),s.errorMessage?((0,o.uX)(),(0,o.CE)("p",V,(0,k.v_)(s.errorMessage),1)):(0,o.Q3)("",!0),s.successMessage?((0,o.uX)(),(0,o.CE)("p",J,(0,k.v_)(s.successMessage),1)):(0,o.Q3)("",!0)],32)])}var P={data(){return{apartmentId:null,errorMessage:"",successMessage:""}},methods:{async submitDelete(){this.errorMessage="",this.successMessage="";try{const e=await I.delete(`/flats/${this.apartmentId}`,{headers:{"Content-Type":"application/xml"}});204===e.status&&(this.successMessage="Квартира успешно удалена!")}catch(e){const t=e.response?e.response.status:null;switch(t){case 400:this.errorMessage="Неверный параметр запроса. Проверьте ID и попробуйте снова.";break;case 404:this.errorMessage="Квартира с таким ID не найдена.";break;case 500:this.errorMessage="Ошибка сервера. Попробуйте позже.";break;default:this.errorMessage="Произошла непредвиденная ошибка."}}}}};const G=(0,X.A)(P,[["render",Q],["__scopeId","data-v-640baca0"]]);var W=G;const j={class:"get-apartment-form"},$={class:"form-group"},Y={key:0,class:"error-message"},H={key:0,class:"apartment-info"};function K(e,t,r,n,s,l){return(0,o.uX)(),(0,o.CE)("div",j,[(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>l.fetchApartment&&l.fetchApartment(...e)),["prevent"]))},[(0,o.Lk)("div",$,[t[2]||(t[2]=(0,o.Lk)("label",{for:"apartmentId"},"ID Квартиры",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"apartmentId","onUpdate:modelValue":t[0]||(t[0]=e=>s.apartmentId=e),required:"",min:"1",placeholder:"Введите ID"},null,512),[[a.Jo,s.apartmentId]])]),t[3]||(t[3]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Вывести информацию о квартире",-1)),s.errorMessage?((0,o.uX)(),(0,o.CE)("p",Y,(0,k.v_)(s.errorMessage),1)):(0,o.Q3)("",!0)],32),s.apartment?((0,o.uX)(),(0,o.CE)("div",H,[t[17]||(t[17]=(0,o.Lk)("h3",null,"Информация о квартире",-1)),(0,o.Lk)("table",null,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[t[4]||(t[4]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"ID:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.id),1)]),(0,o.Lk)("tr",null,[t[5]||(t[5]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Название:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.name),1)]),(0,o.Lk)("tr",null,[t[6]||(t[6]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Координаты:")],-1)),(0,o.Lk)("td",null,"X: "+(0,k.v_)(s.apartment.coordinates.x)+", Y: "+(0,k.v_)(s.apartment.coordinates.y),1)]),(0,o.Lk)("tr",null,[t[7]||(t[7]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Дата создания:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.creationDate),1)]),(0,o.Lk)("tr",null,[t[8]||(t[8]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Площадь:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.area)+" м²",1)]),(0,o.Lk)("tr",null,[t[9]||(t[9]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Кол-во комнат:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.numberOfRooms),1)]),(0,o.Lk)("tr",null,[t[10]||(t[10]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Отделка:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.furnish),1)]),(0,o.Lk)("tr",null,[t[11]||(t[11]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Вид:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.view),1)]),(0,o.Lk)("tr",null,[t[12]||(t[12]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Транспорт:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.transport),1)]),(0,o.Lk)("tr",null,[t[13]||(t[13]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Дом:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.house.name)+", Год: "+(0,k.v_)(s.apartment.house.year)+", Этажи: "+(0,k.v_)(s.apartment.house.numberOfFlatsOnFloor)+", Лифты: "+(0,k.v_)(s.apartment.house.numberOfLifts),1)]),(0,o.Lk)("tr",null,[t[14]||(t[14]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Цена:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.price)+" ₽",1)]),(0,o.Lk)("tr",null,[t[15]||(t[15]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Время до метро пешком:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.timeToMetroByFoot),1)]),(0,o.Lk)("tr",null,[t[16]||(t[16]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Время до метро на транспорте:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(s.apartment.timeToMetroByTransport),1)])])])])):(0,o.Q3)("",!0)])}var z={data(){return{apartmentId:"",apartment:null,errorMessage:""}},methods:{async fetchApartment(){this.errorMessage="",this.apartment=null;try{const e=await I.get(`/flats/${this.apartmentId}`,{headers:{Accept:"application/xml"}});if(200===e.status){const t=new DOMParser,r=t.parseFromString(e.data,"application/xml");this.apartment=this.parseApartmentXML(r)}}catch(e){const t=e.response?e.response.status:null;switch(t){case 404:this.errorMessage="Квартира с таким ID не существует.";break;case 400:this.errorMessage="Неверный ввод. Проверьте ID и попробуйте снова.";break;case 500:this.errorMessage="Ошибка сервера. Попробуйте позже.";break;default:this.errorMessage="Произошла непредвиденная ошибка."}}},parseApartmentXML(e){const t=e=>e?e.textContent:"";return{id:t(e.querySelector("id")),name:t(e.querySelector("name")),coordinates:{x:t(e.querySelector("coordinates > x")),y:t(e.querySelector("coordinates > y"))},creationDate:t(e.querySelector("creationDate")),area:t(e.querySelector("area")),numberOfRooms:t(e.querySelector("numberOfRooms")),furnish:t(e.querySelector("furnish")),view:t(e.querySelector("view")),transport:t(e.querySelector("transport")),house:{id:t(e.querySelector("house > id")),name:t(e.querySelector("house > name")),year:t(e.querySelector("house > year")),numberOfFlatsOnFloor:t(e.querySelector("house > numberOfFlatsOnFloor")),numberOfLifts:t(e.querySelector("house > numberOfLifts"))},price:t(e.querySelector("price")),timeToMetroByFoot:t(e.querySelector("timeToMetroByFoot")),timeToMetroByTransport:t(e.querySelector("timeToMetroByTransport"))}}}};const Z=(0,X.A)(z,[["render",K],["__scopeId","data-v-32df5ca6"]]);var ee=Z;const te={class:"operation_sort"},re=["onUpdate:modelValue"],ae=["onUpdate:modelValue"],oe=["onClick"],ne={key:0,class:"error"},se={key:0,class:"apartments-list"},le={key:1,class:"no-results"},ue={key:2,class:"error-message"};function ie(e,t,r,n,s,l){return(0,o.uX)(),(0,o.CE)("div",te,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.queryParams,((e,r)=>((0,o.uX)(),(0,o.CE)("div",{key:r,class:"param-row"},[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t=>e.key=t,class:"param-key"},t[2]||(t[2]=[(0,o.Fv)('<option disabled value="" data-v-f3bff084>Выберите параметр</option><option value="sort" data-v-f3bff084>Сортировка (sort)</option><option value="filter" data-v-f3bff084>Фильтрация (filter)</option><option value="page" data-v-f3bff084>Номер страницы (page)</option><option value="size" data-v-f3bff084>Размер страницы (size)</option>',5)]),8,re),[[a.u1,e.key]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t=>e.value=t,placeholder:"Введите значение",class:"param-value"},null,8,ae),[[a.Jo,e.value]]),(0,o.Lk)("button",{onClick:e=>l.removeParam(r),class:"remove-button"},"-",8,oe),e.error?((0,o.uX)(),(0,o.CE)("span",ne,(0,k.v_)(e.error),1)):(0,o.Q3)("",!0)])))),128)),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.addParam&&l.addParam(...e)),class:"add-button"},"+"),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.fetchFlats&&l.fetchFlats(...e)),class:"fetch-button"}," Получить список квартир "),s.flats&&s.flats.length?((0,o.uX)(),(0,o.CE)("div",se,[t[15]||(t[15]=(0,o.Lk)("h3",null,"Список квартир:",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.flats,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id},[(0,o.Lk)("table",null,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[t[3]||(t[3]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"ID:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.id),1)]),(0,o.Lk)("tr",null,[t[4]||(t[4]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Название:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.name),1)]),(0,o.Lk)("tr",null,[t[5]||(t[5]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Координаты:")],-1)),(0,o.Lk)("td",null,"X: "+(0,k.v_)(e.coordinates.x)+", Y: "+(0,k.v_)(e.coordinates.y),1)]),(0,o.Lk)("tr",null,[t[6]||(t[6]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Площадь:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.area)+" м²",1)]),(0,o.Lk)("tr",null,[t[7]||(t[7]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Кол-во комнат:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.numberOfRooms),1)]),(0,o.Lk)("tr",null,[t[8]||(t[8]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Отделка:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.furnish),1)]),(0,o.Lk)("tr",null,[t[9]||(t[9]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Вид:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.view),1)]),(0,o.Lk)("tr",null,[t[10]||(t[10]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Транспорт:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.transport),1)]),(0,o.Lk)("tr",null,[t[11]||(t[11]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Дом:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.house.name)+", Год: "+(0,k.v_)(e.house.year)+", Этажи: "+(0,k.v_)(e.house.numberOfFlatsOnFloor)+", Лифты: "+(0,k.v_)(e.house.numberOfLifts),1)]),(0,o.Lk)("tr",null,[t[12]||(t[12]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Цена:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.price)+" ₽",1)]),(0,o.Lk)("tr",null,[t[13]||(t[13]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Время до метро пешком:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.timeToMetroByFoot),1)]),(0,o.Lk)("tr",null,[t[14]||(t[14]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Время до метро на транспорте:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.timeToMetroByTransport),1)])])])])))),128))])):s.flats&&0===s.flats.length?((0,o.uX)(),(0,o.CE)("p",le," Квартиры не найдены. ")):(0,o.Q3)("",!0),s.errorMessage?((0,o.uX)(),(0,o.CE)("p",ue,(0,k.v_)(s.errorMessage),1)):(0,o.Q3)("",!0)])}r(4114),r(4603),r(7566),r(8721);var de={data(){return{flats:[],queryParams:[{key:"",value:""}],errorMessage:""}},methods:{addParam(){this.queryParams.push({key:"",value:"",error:""})},removeParam(e){this.queryParams.splice(e,1)},async fetchFlats(){this.errorMessage="",this.flats=[];const e=new URL("http://localhost:8443/api/v1/flats");let t=!1;if(this.queryParams.forEach((r=>{r.key?r.value?(r.error="",e.searchParams.append(r.key,r.value)):(r.error="Значение обязательно",t=!0):(r.error="Параметр обязателен для выбора",t=!0)})),t)this.errorMessage="Пожалуйста, исправьте ошибки в параметрах.";else try{const t=await fetch(e.toString(),{method:"GET",headers:{Accept:"application/xml"}});if(t.ok){const e=await t.text(),r=new DOMParser,a=r.parseFromString(e,"application/xml");this.flats=this.parseFlatsFromXML(a)}else this.errorMessage="Ошибка при получении списка квартир: "+t.statusText}catch(r){this.errorMessage="Ошибка запроса: "+r.message}},parseFlatsFromXML(e){const t=e.getElementsByTagName("content");return Array.from(t).map((e=>({id:e.querySelector("id")?.textContent,name:e.querySelector("name")?.textContent,coordinates:{x:e.querySelector("coordinates > x")?.textContent,y:e.querySelector("coordinates > y")?.textContent},area:e.querySelector("area")?.textContent,numberOfRooms:e.querySelector("numberOfRooms")?.textContent,furnish:e.querySelector("furnish")?.textContent,view:e.querySelector("view")?.textContent,transport:e.querySelector("transport")?.textContent,house:{name:e.querySelector("house > name")?.textContent,year:e.querySelector("house > year")?.textContent,numberOfFlatsOnFloor:e.querySelector("house > numberOfFlatsOnFloor")?.textContent,numberOfLifts:e.querySelector("house > numberOfLifts")?.textContent},price:e.querySelector("price")?.textContent,timeToMetroByFoot:e.querySelector("timeToMetroByFoot")?.textContent,timeToMetroByTransport:e.querySelector("timeToMetroByTransport")?.textContent})))}}};const me=(0,X.A)(de,[["render",ie],["__scopeId","data-v-f3bff084"]]);var pe=me;const ce={class:"update-apartment-form"},fe={class:"form-group"},ke={class:"form-group"},ve={class:"form-group"},he={class:"form-group"},Le={class:"form-group"},be={class:"form-group"},ge={class:"form-group"},ye={class:"form-group"},Fe={class:"form-group"},Me={class:"form-group"},Ce={class:"form-group"},Oe={class:"form-group"},Te={key:0,class:"error-message"},_e={key:1,class:"success-message"};function Ee(e,t,r,n,s,l){return(0,o.uX)(),(0,o.CE)("div",ce,[(0,o.Lk)("form",{onSubmit:t[16]||(t[16]=(0,a.D$)(((...e)=>l.submitApartment&&l.submitApartment(...e)),["prevent"]))},[(0,o.Lk)("div",fe,[t[17]||(t[17]=(0,o.Lk)("label",{for:"apartmentId"},"ID Квартиры",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"apartmentId","onUpdate:modelValue":t[0]||(t[0]=e=>s.apartmentId=e),required:"",class:(0,k.C4)({"is-invalid":!s.apartmentId}),placeholder:"Введите ID"},null,2),[[a.Jo,s.apartmentId]])]),(0,o.Lk)("div",ke,[t[18]||(t[18]=(0,o.Lk)("label",{for:"name"},"Название",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>s.flat.name=e),required:"",class:(0,k.C4)({"is-invalid":!s.flat.name}),placeholder:"Введите название"},null,2),[[a.Jo,s.flat.name]])]),(0,o.Lk)("div",ve,[t[19]||(t[19]=(0,o.Lk)("label",{for:"coordinates"},"Координаты",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>s.flat.coordinates.x=e),required:"",class:(0,k.C4)({"is-invalid":null===s.flat.coordinates.x}),placeholder:"X"},null,2),[[a.Jo,s.flat.coordinates.x]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>s.flat.coordinates.y=e),required:"",class:(0,k.C4)({"is-invalid":null===s.flat.coordinates.y}),placeholder:"Y"},null,2),[[a.Jo,s.flat.coordinates.y]])]),(0,o.Lk)("div",he,[t[20]||(t[20]=(0,o.Lk)("label",{for:"area"},"Площадь (м²)",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"area","onUpdate:modelValue":t[4]||(t[4]=e=>s.flat.area=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.area<=0}),placeholder:"Больше 0"},null,2),[[a.Jo,s.flat.area]])]),(0,o.Lk)("div",Le,[t[21]||(t[21]=(0,o.Lk)("label",{for:"numberOfRooms"},"Количество комнат",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"numberOfRooms","onUpdate:modelValue":t[5]||(t[5]=e=>s.flat.numberOfRooms=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.numberOfRooms<=0}),placeholder:"Больше 0"},null,2),[[a.Jo,s.flat.numberOfRooms]])]),(0,o.Lk)("div",be,[t[23]||(t[23]=(0,o.Lk)("label",{for:"furnish"},"Мебель",-1)),(0,o.bo)((0,o.Lk)("select",{id:"furnish","onUpdate:modelValue":t[6]||(t[6]=e=>s.flat.furnish=e)},t[22]||(t[22]=[(0,o.Fv)('<option disabled value="" data-v-af5fa35e>Выберите</option><option value="DESIGNER" data-v-af5fa35e>Дизайнерская</option><option value="FINE" data-v-af5fa35e>Хорошая</option><option value="BAD" data-v-af5fa35e>Плохая</option><option value="LITTLE" data-v-af5fa35e>Небольшая</option>',5)]),512),[[a.u1,s.flat.furnish]])]),(0,o.Lk)("div",ge,[t[25]||(t[25]=(0,o.Lk)("label",{for:"view"},"Вид",-1)),(0,o.bo)((0,o.Lk)("select",{id:"view","onUpdate:modelValue":t[7]||(t[7]=e=>s.flat.view=e),required:""},t[24]||(t[24]=[(0,o.Lk)("option",{disabled:"",value:""},"Выберите",-1),(0,o.Lk)("option",{value:"STREET"},"Улица",-1),(0,o.Lk)("option",{value:"YARD"},"Двор",-1),(0,o.Lk)("option",{value:"GOOD"},"Хороший",-1)]),512),[[a.u1,s.flat.view]])]),(0,o.Lk)("div",ye,[t[27]||(t[27]=(0,o.Lk)("label",{for:"transport"},"Транспорт",-1)),(0,o.bo)((0,o.Lk)("select",{id:"transport","onUpdate:modelValue":t[8]||(t[8]=e=>s.flat.transport=e),required:""},t[26]||(t[26]=[(0,o.Fv)('<option disabled value="" data-v-af5fa35e>Выберите</option><option value="FEW" data-v-af5fa35e>Мало</option><option value="NONE" data-v-af5fa35e>Нет</option><option value="NORMAL" data-v-af5fa35e>Обычный</option><option value="ENOUGH" data-v-af5fa35e>Достаточно</option>',5)]),512),[[a.u1,s.flat.transport]])]),(0,o.Lk)("div",Fe,[t[28]||(t[28]=(0,o.Lk)("label",{for:"house"},"Дом",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=e=>s.flat.house.name=e),required:"",class:(0,k.C4)({"is-invalid":!s.flat.house.name}),placeholder:"Имя дома"},null,2),[[a.Jo,s.flat.house.name]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=e=>s.flat.house.numberOfFlatsOnFloor=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.house.numberOfFlatsOnFloor<=0}),placeholder:"Квартир на этаже (больше 0)"},null,2),[[a.Jo,s.flat.house.numberOfFlatsOnFloor]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=e=>s.flat.house.numberOfLifts=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.house.numberOfLifts<=0}),placeholder:"Лифтов (больше 0)"},null,2),[[a.Jo,s.flat.house.numberOfLifts]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=e=>s.flat.house.year=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.house.year>210||s.flat.house.year<=0}),placeholder:"Год постройки (1-210)"},null,2),[[a.Jo,s.flat.house.year]])]),(0,o.Lk)("div",Me,[t[29]||(t[29]=(0,o.Lk)("label",{for:"price"},"Цена",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"price","onUpdate:modelValue":t[13]||(t[13]=e=>s.flat.price=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.price<=0}),min:"0",placeholder:"Введите цену"},null,2),[[a.Jo,s.flat.price]])]),(0,o.Lk)("div",Ce,[t[30]||(t[30]=(0,o.Lk)("label",{for:"timeToMetroByFoot"},"Время до метро пешком",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"timeToMetroByFoot","onUpdate:modelValue":t[14]||(t[14]=e=>s.flat.timeToMetroByFoot=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.timeToMetroByFoot<=0}),placeholder:"Больше 0"},null,2),[[a.Jo,s.flat.timeToMetroByFoot]])]),(0,o.Lk)("div",Oe,[t[31]||(t[31]=(0,o.Lk)("label",{for:"timeToMetroByTransport"},"Время до метро на транспорте",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"timeToMetroByTransport","onUpdate:modelValue":t[15]||(t[15]=e=>s.flat.timeToMetroByTransport=e),required:"",class:(0,k.C4)({"is-invalid":s.flat.timeToMetroByTransport<=0}),placeholder:"Больше 0"},null,2),[[a.Jo,s.flat.timeToMetroByTransport]])]),t[32]||(t[32]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Добавить квартиру",-1)),s.errorMessage?((0,o.uX)(),(0,o.CE)("p",Te,(0,k.v_)(s.errorMessage),1)):(0,o.Q3)("",!0),s.successMessage?((0,o.uX)(),(0,o.CE)("p",_e,(0,k.v_)(s.successMessage),1)):(0,o.Q3)("",!0)],32)])}var xe={data(){return{apartmentId:"",flat:{name:"",coordinates:{x:null,y:null},area:0,numberOfRooms:0,furnish:"",view:"",transport:"",house:{name:"",numberOfFlatsOnFloor:0,numberOfLifts:0,year:0},price:0,timeToMetroByFoot:0,timeToMetroByTransport:0},errorMessage:"",successMessage:""}},methods:{async submitApartment(){if(this.errorMessage="",this.successMessage="",this.apartmentId)try{const e=(0,S.js2xml)({flat:{name:this.flat.name,coordinates:{x:this.flat.coordinates.x,y:this.flat.coordinates.y},area:this.flat.area,numberOfRooms:this.flat.numberOfRooms,furnish:this.flat.furnish,view:this.flat.view,transport:this.flat.transport,house:{name:this.flat.house.name,numberOfFlatsOnFloor:this.flat.house.numberOfFlatsOnFloor,numberOfLifts:this.flat.house.numberOfLifts,year:this.flat.house.year},price:this.flat.price,timeToMetroByFoot:this.flat.timeToMetroByFoot,timeToMetroByTransport:this.flat.timeToMetroByTransport}},{compact:!0,ignoreComment:!0,spaces:4}),t=await I.put(`/flats/${this.apartmentId}`,e,{headers:{"Content-Type":"application/xml"}});200===t.status&&(this.successMessage="Квартира успешно обновлена!")}catch(e){if(e.response){const t=e.response.status;switch(t){case 400:this.errorMessage="Неверные данные. Проверьте ввод и попробуйте снова.";break;case 404:this.errorMessage="Квартира с указанным ID не найдена.";break;case 500:this.errorMessage="Ошибка сервера. Повторите попытку позже.";break;default:this.errorMessage="Неизвестная ошибка: "+t}}else this.errorMessage="Ошибка при обновлении квартиры. Проверьте данные и попробуйте снова."}else this.errorMessage="Введите ID квартиры."}}};const Be=(0,X.A)(xe,[["render",Ee],["__scopeId","data-v-af5fa35e"]]);var qe=Be;const Ae={class:"average-rooms"},Ie={key:0},Se={key:1},we={key:2,class:"error-message"};function Xe(e,t,r,a,n,s){return(0,o.uX)(),(0,o.CE)("div",Ae,[t[0]||(t[0]=(0,o.Lk)("h2",null,"Среднее значение numberOfRooms:",-1)),null!==n.averageNumberOfRooms?((0,o.uX)(),(0,o.CE)("p",Ie,(0,k.v_)(n.averageNumberOfRooms),1)):((0,o.uX)(),(0,o.CE)("p",Se,"Загрузка...")),n.errorMessage?((0,o.uX)(),(0,o.CE)("p",we,(0,k.v_)(n.errorMessage),1)):(0,o.Q3)("",!0)])}var De={data(){return{averageNumberOfRooms:null,errorMessage:""}},mounted(){this.fetchAverageNumberOfRooms()},methods:{async fetchAverageNumberOfRooms(){this.errorMessage="";try{const e=await I.get("/flats/average-number-of-rooms",{headers:{Accept:"application/xml"}});if(200===e.status){const t=new DOMParser,r=t.parseFromString(e.data,"application/xml"),a=r.getElementsByTagName("Double")[0]?.textContent;this.averageNumberOfRooms=parseFloat(a)}}catch(e){const t=e.response?e.response.status:null;switch(t){case 404:this.errorMessage="Ошибка: данные не найдены.";break;case 500:this.errorMessage="Ошибка сервера. Попробуйте позже.";break;default:this.errorMessage="Произошла непредвиденная ошибка."}}}}};const Re=(0,X.A)(De,[["render",Xe],["__scopeId","data-v-71e4281c"]]);var Ne=Re;const Ue={class:"transport-count"},Ve={class:"form-group"},Je={key:0,class:"result-message"},Qe={key:1,class:"error-message"};function Pe(e,t,r,n,s,l){return(0,o.uX)(),(0,o.CE)("div",Ue,[(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>l.fetchFlatCount&&l.fetchFlatCount(...e)),["prevent"]))},[(0,o.Lk)("div",Ve,[t[3]||(t[3]=(0,o.Lk)("label",{for:"transport"},"Выберите транспорт",-1)),(0,o.bo)((0,o.Lk)("select",{id:"transport","onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedTransport=e),required:""},t[2]||(t[2]=[(0,o.Fv)('<option disabled value="" data-v-005638a3>Выберите значение</option><option value="FEW" data-v-005638a3>Мало</option><option value="NONE" data-v-005638a3>Нет</option><option value="NORMAL" data-v-005638a3>Обычный</option><option value="ENOUGH" data-v-005638a3>Достаточно</option>',5)]),512),[[a.u1,s.selectedTransport]])]),t[4]||(t[4]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Получить количество квартир",-1))],32),null!==s.count?((0,o.uX)(),(0,o.CE)("p",Je,'Количество квартир с транспортом больше "'+(0,k.v_)(s.selectedTransport)+'": '+(0,k.v_)(s.count),1)):(0,o.Q3)("",!0),s.errorMessage?((0,o.uX)(),(0,o.CE)("p",Qe,(0,k.v_)(s.errorMessage),1)):(0,o.Q3)("",!0)])}var Ge={data(){return{selectedTransport:"",count:null,errorMessage:""}},methods:{async fetchFlatCount(){this.errorMessage="",this.count=null;try{const e=await I.get("/flats/count-by-transport",{params:{transport:this.selectedTransport},headers:{"Content-Type":"application/xml"}});200===e.status&&(this.count=e.data)}catch(e){const t=e.response?e.response.status:null;switch(t){case 400:this.errorMessage="Неверный параметр запроса. Проверьте выбранное значение.";break;case 404:this.errorMessage="Запрашиваемый ресурс не найден.";break;case 500:this.errorMessage="Ошибка сервера. Попробуйте позже.";break;default:this.errorMessage="Произошла непредвиденная ошибка."}}}}};const We=(0,X.A)(Ge,[["render",Pe],["__scopeId","data-v-005638a3"]]);var je=We;const $e={class:"furnish-filter"},Ye={class:"form-group"},He={key:0,class:"apartments-list"},Ke={key:1,class:"no-results"},ze={key:2,class:"error-message"};function Ze(e,t,r,n,s,l){return(0,o.uX)(),(0,o.CE)("div",$e,[(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>l.fetchFilteredFlats&&l.fetchFilteredFlats(...e)),["prevent"]))},[(0,o.Lk)("div",Ye,[t[3]||(t[3]=(0,o.Lk)("label",{for:"furnish"},"Выберите furnish",-1)),(0,o.bo)((0,o.Lk)("select",{id:"furnish","onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedFurnish=e),required:""},t[2]||(t[2]=[(0,o.Fv)('<option disabled value="" data-v-0abc1a38>Выберите значение</option><option value="DESIGNER" data-v-0abc1a38>Дизайнер</option><option value="FINE" data-v-0abc1a38>Хороший</option><option value="BAD" data-v-0abc1a38>Плохой</option><option value="LITTLE" data-v-0abc1a38>Немного</option>',5)]),512),[[a.u1,s.selectedFurnish]])]),t[4]||(t[4]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Получить квартиры",-1))],32),s.apartment&&s.apartment.length?((0,o.uX)(),(0,o.CE)("div",He,[(0,o.Lk)("h3",null,'Квартиры с furnish больше "'+(0,k.v_)(s.selectedFurnish)+'":',1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.apartment,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id},[(0,o.Lk)("table",null,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[t[5]||(t[5]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"ID:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.id),1)]),(0,o.Lk)("tr",null,[t[6]||(t[6]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Название:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.name),1)]),(0,o.Lk)("tr",null,[t[7]||(t[7]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Координаты:")],-1)),(0,o.Lk)("td",null,"X: "+(0,k.v_)(e.coordinates.x)+", Y: "+(0,k.v_)(e.coordinates.y),1)]),(0,o.Lk)("tr",null,[t[8]||(t[8]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Дата создания:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.creationDate),1)]),(0,o.Lk)("tr",null,[t[9]||(t[9]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Площадь:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.area)+" м²",1)]),(0,o.Lk)("tr",null,[t[10]||(t[10]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Кол-во комнат:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.numberOfRooms),1)]),(0,o.Lk)("tr",null,[t[11]||(t[11]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Отделка:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.furnish),1)]),(0,o.Lk)("tr",null,[t[12]||(t[12]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Вид:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.view),1)]),(0,o.Lk)("tr",null,[t[13]||(t[13]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Транспорт:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.transport),1)]),(0,o.Lk)("tr",null,[t[14]||(t[14]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Дом:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.house.name)+", Год: "+(0,k.v_)(e.house.year)+", Этажи: "+(0,k.v_)(e.house.numberOfFlatsOnFloor)+", Лифты: "+(0,k.v_)(e.house.numberOfLifts),1)]),(0,o.Lk)("tr",null,[t[15]||(t[15]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Цена:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.price)+" ₽",1)]),(0,o.Lk)("tr",null,[t[16]||(t[16]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Время до метро пешком:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.timeToMetroByFoot),1)]),(0,o.Lk)("tr",null,[t[17]||(t[17]=(0,o.Lk)("td",null,[(0,o.Lk)("strong",null,"Время до метро на транспорте:")],-1)),(0,o.Lk)("td",null,(0,k.v_)(e.timeToMetroByTransport),1)])])])])))),128))])):0===s.apartment.length&&s.selectedFurnish?((0,o.uX)(),(0,o.CE)("p",Ke,' Квартиры с furnish "'+(0,k.v_)(s.selectedFurnish)+'" не найдены. ',1)):(0,o.Q3)("",!0),s.errorMessage?((0,o.uX)(),(0,o.CE)("p",ze,(0,k.v_)(s.errorMessage),1)):(0,o.Q3)("",!0)])}var et={data(){return{selectedFurnish:"",apartment:[],errorMessage:""}},methods:{async fetchFilteredFlats(){this.errorMessage="",this.apartment=[];try{const e=await I.get("/flats/filter-by-furnish",{params:{furnish:this.selectedFurnish},headers:{"Content-Type":"application/xml"}});if(200===e.status){const t=new DOMParser,r=t.parseFromString(e.data,"application/xml"),a=r.getElementsByTagName("item");this.apartment=Array.from(a).map((e=>this.parseApartmentXML(e)))}}catch(e){const t=e.response?e.response.status:null;switch(t){case 400:this.errorMessage="Неверный параметр запроса. Проверьте выбранное значение.";break;case 404:this.errorMessage="Запрашиваемый ресурс не найден.";break;case 500:this.errorMessage="Ошибка сервера. Попробуйте позже.";break;default:this.errorMessage="Произошла непредвиденная ошибка."}console.error("Error fetching flats:",this.errorMessage)}},parseApartmentXML(e){return{id:e.getElementsByTagName("id")[0].textContent,name:e.getElementsByTagName("name")[0].textContent,coordinates:{x:e.getElementsByTagName("x")[0].textContent,y:e.getElementsByTagName("y")[0].textContent},creationDate:e.getElementsByTagName("creationDate")[0].textContent,area:e.getElementsByTagName("area")[0].textContent,numberOfRooms:e.getElementsByTagName("numberOfRooms")[0].textContent,furnish:e.getElementsByTagName("furnish")[0].textContent,view:e.getElementsByTagName("view")[0].textContent,transport:e.getElementsByTagName("transport")[0].textContent,house:{name:e.getElementsByTagName("name")[1].textContent,year:e.getElementsByTagName("year")[0].textContent,numberOfFlatsOnFloor:e.getElementsByTagName("numberOfFlatsOnFloor")[0].textContent,numberOfLifts:e.getElementsByTagName("numberOfLifts")[0].textContent},price:e.getElementsByTagName("price")[0].textContent,timeToMetroByFoot:e.getElementsByTagName("timeToMetroByFoot")[0].textContent,timeToMetroByTransport:e.getElementsByTagName("timeToMetroByTransport")[0].textContent}}}};const tt=(0,X.A)(et,[["render",Ze],["__scopeId","data-v-0abc1a38"]]);var rt=tt,at={components:{DeleteApartmentForm:W,AddApartmentForm:R,GetApartmentByIdForm:ee,FilterSortApartmentForm:pe,UpdateApartmentForm:qe,AverageNumberOfRooms:Ne,TransportCount:je,FurnishFilter:rt},data(){return{activeForm:null}},methods:{toggleForm(e){this.activeForm=this.activeForm===e?null:e},closeForm(){this.activeForm=null}}};const ot=(0,X.A)(at,[["render",f]]);var nt=ot;(0,a.Ef)(nt).mount("#app")}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,a,o,n){if(!a){var s=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],n=e[d][2];for(var l=!0,u=0;u<a.length;u++)(!1&n||s>=n)&&Object.keys(r.O).every((function(e){return r.O[e](a[u])}))?a.splice(u--,1):(l=!1,n<s&&(s=n));if(l){e.splice(d--,1);var i=o();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,o,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,n,s=a[0],l=a[1],u=a[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(u)var d=u(r)}for(t&&t(a);i<s.length;i++)n=s[i],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},a=self["webpackChunkservice_1"]=self["webpackChunkservice_1"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],(function(){return r(9595)}));a=r.O(a)})();
//# sourceMappingURL=app.b1450774.js.map